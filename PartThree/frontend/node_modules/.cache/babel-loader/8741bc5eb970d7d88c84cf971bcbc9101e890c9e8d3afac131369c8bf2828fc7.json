{"ast":null,"code":"// src/index.ts\nimport { isIos } from \"@zag-js/dom-query\";\nvar LOCK_CLASSNAME = \"data-zag-scroll-lock\";\nfunction assignStyle(el, style) {\n  if (!el) return;\n  const previousStyle = el.style.cssText;\n  Object.assign(el.style, style);\n  return () => {\n    el.style.cssText = previousStyle;\n  };\n}\nfunction setCSSProperty(el, property, value) {\n  if (!el) return;\n  const previousValue = el.style.getPropertyValue(property);\n  el.style.setProperty(property, value);\n  return () => {\n    if (previousValue) {\n      el.style.setProperty(property, previousValue);\n    } else {\n      el.style.removeProperty(property);\n    }\n  };\n}\nfunction getPaddingProperty(documentElement) {\n  const documentLeft = documentElement.getBoundingClientRect().left;\n  const scrollbarX = Math.round(documentLeft) + documentElement.scrollLeft;\n  return scrollbarX ? \"paddingLeft\" : \"paddingRight\";\n}\nfunction preventBodyScroll(_document) {\n  const doc = _document ?? document;\n  const win = doc.defaultView ?? window;\n  const {\n    documentElement,\n    body\n  } = doc;\n  const locked = body.hasAttribute(LOCK_CLASSNAME);\n  if (locked) return;\n  body.setAttribute(LOCK_CLASSNAME, \"\");\n  const scrollbarWidth = win.innerWidth - documentElement.clientWidth;\n  const setScrollbarWidthProperty = () => setCSSProperty(documentElement, \"--scrollbar-width\", `${scrollbarWidth}px`);\n  const paddingProperty = getPaddingProperty(documentElement);\n  const setStyle = () => assignStyle(body, {\n    overflow: \"hidden\",\n    [paddingProperty]: `${scrollbarWidth}px`\n  });\n  const setIOSStyle = () => {\n    const {\n      scrollX,\n      scrollY,\n      visualViewport\n    } = win;\n    const offsetLeft = visualViewport?.offsetLeft ?? 0;\n    const offsetTop = visualViewport?.offsetTop ?? 0;\n    const restoreStyle = assignStyle(body, {\n      position: \"fixed\",\n      overflow: \"hidden\",\n      top: `${-(scrollY - Math.floor(offsetTop))}px`,\n      left: `${-(scrollX - Math.floor(offsetLeft))}px`,\n      right: \"0\",\n      [paddingProperty]: `${scrollbarWidth}px`\n    });\n    return () => {\n      restoreStyle?.();\n      win.scrollTo({\n        left: scrollX,\n        top: scrollY,\n        behavior: \"instant\"\n      });\n    };\n  };\n  const cleanups = [setScrollbarWidthProperty(), isIos() ? setIOSStyle() : setStyle()];\n  return () => {\n    cleanups.forEach(fn => fn?.());\n    body.removeAttribute(LOCK_CLASSNAME);\n  };\n}\nexport { preventBodyScroll };","map":{"version":3,"names":["isIos","LOCK_CLASSNAME","assignStyle","el","style","previousStyle","cssText","Object","assign","setCSSProperty","property","value","previousValue","getPropertyValue","setProperty","removeProperty","getPaddingProperty","documentElement","documentLeft","getBoundingClientRect","left","scrollbarX","Math","round","scrollLeft","preventBodyScroll","_document","doc","document","win","defaultView","window","body","locked","hasAttribute","setAttribute","scrollbarWidth","innerWidth","clientWidth","setScrollbarWidthProperty","paddingProperty","setStyle","overflow","setIOSStyle","scrollX","scrollY","visualViewport","offsetLeft","offsetTop","restoreStyle","position","top","floor","right","scrollTo","behavior","cleanups","forEach","fn","removeAttribute"],"sources":["C:\\Users\\lab_services_student\\Desktop\\PartThree\\frontend\\node_modules\\@zag-js\\remove-scroll\\src\\index.ts"],"sourcesContent":["import { isIos } from \"@zag-js/dom-query\"\n\nconst LOCK_CLASSNAME = \"data-zag-scroll-lock\"\n\nfunction assignStyle(el: HTMLElement | null | undefined, style: Partial<CSSStyleDeclaration>) {\n  if (!el) return\n  const previousStyle = el.style.cssText\n  Object.assign(el.style, style)\n  return () => {\n    el.style.cssText = previousStyle\n  }\n}\n\nfunction setCSSProperty(el: HTMLElement | null | undefined, property: string, value: string) {\n  if (!el) return\n  const previousValue = el.style.getPropertyValue(property)\n  el.style.setProperty(property, value)\n  return () => {\n    if (previousValue) {\n      el.style.setProperty(property, previousValue)\n    } else {\n      el.style.removeProperty(property)\n    }\n  }\n}\n\nfunction getPaddingProperty(documentElement: HTMLElement) {\n  // RTL <body> scrollbar\n  const documentLeft = documentElement.getBoundingClientRect().left\n  const scrollbarX = Math.round(documentLeft) + documentElement.scrollLeft\n  return scrollbarX ? \"paddingLeft\" : \"paddingRight\"\n}\n\nexport function preventBodyScroll(_document?: Document) {\n  const doc = _document ?? document\n  const win = doc.defaultView ?? window\n\n  const { documentElement, body } = doc\n\n  const locked = body.hasAttribute(LOCK_CLASSNAME)\n  if (locked) return\n\n  body.setAttribute(LOCK_CLASSNAME, \"\")\n\n  const scrollbarWidth = win.innerWidth - documentElement.clientWidth\n  const setScrollbarWidthProperty = () => setCSSProperty(documentElement, \"--scrollbar-width\", `${scrollbarWidth}px`)\n  const paddingProperty = getPaddingProperty(documentElement)\n\n  const setStyle = () =>\n    assignStyle(body, {\n      overflow: \"hidden\",\n      [paddingProperty]: `${scrollbarWidth}px`,\n    })\n\n  // Only iOS doesn't respect `overflow: hidden` on document.body\n  const setIOSStyle = () => {\n    const { scrollX, scrollY, visualViewport } = win\n\n    // iOS 12 does not support `visuaViewport`.\n    const offsetLeft = visualViewport?.offsetLeft ?? 0\n    const offsetTop = visualViewport?.offsetTop ?? 0\n\n    const restoreStyle = assignStyle(body, {\n      position: \"fixed\",\n      overflow: \"hidden\",\n      top: `${-(scrollY - Math.floor(offsetTop))}px`,\n      left: `${-(scrollX - Math.floor(offsetLeft))}px`,\n      right: \"0\",\n      [paddingProperty]: `${scrollbarWidth}px`,\n    })\n\n    return () => {\n      restoreStyle?.()\n      win.scrollTo({ left: scrollX, top: scrollY, behavior: \"instant\" })\n    }\n  }\n\n  const cleanups = [setScrollbarWidthProperty(), isIos() ? setIOSStyle() : setStyle()]\n\n  return () => {\n    cleanups.forEach((fn) => fn?.())\n    body.removeAttribute(LOCK_CLASSNAME)\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}